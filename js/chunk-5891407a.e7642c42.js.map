{"version":3,"sources":["webpack:///./src/views/Shop.vue?d936","webpack:///./src/views/Shop.vue?cf0e","webpack:///src/views/Shop.vue","webpack:///./src/views/Shop.vue?ae9c","webpack:///./src/views/Shop.vue","webpack:///./src/components/common/Pagination.vue?7635","webpack:///src/components/common/Pagination.vue","webpack:///./src/components/common/Pagination.vue?444c","webpack:///./src/components/common/Pagination.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_m","attrs","_v","class","tempCategory","on","$event","getAllProducts","getCategoryProducts","isloading","_l","item","key","id","isfavored","preventDefault","changeFavorite","_s","category","title","price","origin_price","_e","getProduct","addCart","pagination","staticRenderFns","name","components","NavBar","Footer","Pagination","Alert","data","products","product","num","cartContents","favorites","methods","vm","$http","get","url","then","res","filter","$set","$router","push","product_id","qty","post","success","getCart","loadingItem","getFavorites","JSON","parse","localStorage","getItem","length","every","splice","index","setItem","stringify","$bus","$emit","computed","filterData","created","$on","beforeDestroy","$off","component","has_pre","getProducts","current_page","page","has_next","props"],"mappings":"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","file":"js/chunk-5891407a.e7642c42.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shop.vue?vue&type=style&index=0&id=11dce2a3&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shop.vue?vue&type=style&index=0&id=11dce2a3&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NavBar'),_c('main',[_c('Alert'),_c('div',{staticClass:\"container\",staticStyle:{\"min-height\":\"81vh\"}},[_vm._m(0),_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_vm._v(\"商城\")])])]),_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-lg-3 col-sm-12\"},[_c('div',{staticClass:\"sticky-top pt-4\"},[_c('ul',{staticClass:\"list-group product-sidebar mb-3 text-center\"},[_c('li',{staticClass:\"list-group-item product-sidebar-items\",class:{'active': _vm.tempCategory === ''},on:{\"click\":function($event){_vm.tempCategory = ''; _vm.getAllProducts()}}},[_vm._v(\"所有商品\")]),_c('li',{staticClass:\"list-group-item product-sidebar-items\",class:{'active': _vm.tempCategory === '競速車'},on:{\"click\":function($event){_vm.tempCategory='競速車' ;_vm.getCategoryProducts('競速車')}}},[_vm._v(\"競速車\")]),_c('li',{staticClass:\"list-group-item product-sidebar-items\",class:{'active': _vm.tempCategory === '道具車'},on:{\"click\":function($event){_vm.tempCategory='道具車';_vm.getCategoryProducts('道具車')}}},[_vm._v(\"道具車\")]),_c('li',{staticClass:\"list-group-item product-sidebar-items\",class:{'active': _vm.tempCategory === '角色'},on:{\"click\":function($event){_vm.tempCategory='角色';_vm.getCategoryProducts('角色')}}},[_vm._v(\"角色\")])])])]),_c('div',{staticClass:\"col-lg-9 col-sm-12\"},[_c('loading',{attrs:{\"active\":_vm.isloading},on:{\"update:active\":function($event){_vm.isloading=$event}}},[[_c('div',{staticClass:\"bazzi-loading\"})]],2),_c('div',{staticClass:\"row\"},_vm._l((_vm.filterData),function(item){return _c('div',{key:item.id,staticClass:\"col-lg-4 mb-4\"},[_c('div',{staticClass:\"card shadow-sm h-100\"},[_c('a',{staticClass:\"myfavorite\",attrs:{\"type\":\"button\"}},[(_vm.isfavored (item))?_c('i',{staticClass:\"fas fa-heart\",on:{\"click\":function($event){$event.preventDefault();return _vm.changeFavorite(item)}}}):_c('i',{staticClass:\"far fa-heart\",on:{\"click\":function($event){$event.preventDefault();return _vm.changeFavorite(item)}}})]),_c('img',{staticClass:\"card-img-top p-2 bg-dark\",attrs:{\"src\":(\"\" + (item.imageUrl)),\"alt\":(\"\" + (item.title))}}),_c('div',{staticClass:\"card-body\"},[_c('span',{staticClass:\"badge badge-secondary float-right ml-2\"},[_vm._v(_vm._s(item.category))]),_c('h5',{staticClass:\"card-title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('div',{staticClass:\"d-flex flex-column\"},[(item.price === item.origin_price)?_c('p',[_vm._v(\"售價\"+_vm._s(item.origin_price)+\"元\")]):_vm._e(),(item.price !== item.origin_price)?_c('del',{staticClass:\"mr-1\"},[_vm._v(\"原價\"+_vm._s(item.origin_price)+\"元\")]):_vm._e(),(item.price !== item.origin_price)?_c('p',{staticClass:\"m-0 text-danger\"},[_vm._v(\"售價\"+_vm._s(item.price)+\" 元\")]):_vm._e()]),_c('div',{staticClass:\"d-flex align-items-end\"},[_c('button',{staticClass:\"btn btn-sm btn-primary mr-2\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.getProduct(item.id)}}},[_c('i',{staticClass:\"fas fa-info-circle\"})]),_c('button',{staticClass:\"btn btn-sm btn-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addCart(item.id,1)}}},[_c('i',{staticClass:\"fas fa-shopping-cart\"})])])])])])])}),0),(_vm.tempCategory==='')?_c('Pagination',{attrs:{\"pagination\":_vm.pagination},on:{\"getpage\":_vm.getAllProducts}}):_vm._e()],1)])])],1),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row mb-3\"},[_c('div',{staticClass:\"col-12\"},[_c('div',{staticClass:\"background\"},[_c('div',{staticClass:\"text mx-2\"},[_c('h1',{staticClass:\"text-white text-center p-3\"},[_vm._v(\"輸入優惠碼打 9 折\")])])])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <NavBar></NavBar>\r\n    <main>\r\n      <Alert></Alert>\r\n      <div class=\"container\" style=\"min-height: 81vh\">\r\n        <div class=\"row mb-3\">\r\n          <div class=\"col-12\">\r\n            <div class=\"background\">\r\n              <div class=\"text mx-2\">\r\n                <h1 class=\"text-white text-center p-3\">輸入優惠碼打 9 折</h1>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <nav aria-label=\"breadcrumb\">\r\n          <ol class=\"breadcrumb\">\r\n            <li class=\"breadcrumb-item\" aria-current=\"page\">\r\n              <router-link to=\"/\">首頁</router-link>\r\n            </li>\r\n            <li class=\"breadcrumb-item\" aria-current=\"page\">商城</li>\r\n          </ol>\r\n        </nav>\r\n        <div class=\"row\">\r\n          <!-- 商品sidebar -->\r\n          <div class=\"col-lg-3 col-sm-12\">\r\n            <div class=\"sticky-top pt-4\">\r\n              <ul class=\"list-group product-sidebar mb-3 text-center\">\r\n                <li\r\n                  class=\"list-group-item product-sidebar-items\"\r\n                  :class=\"{'active': tempCategory === ''}\"\r\n                  @click=\"tempCategory = ''; getAllProducts() \"\r\n                >所有商品</li>\r\n                <li\r\n                  class=\"list-group-item product-sidebar-items\"\r\n                  :class=\"{'active': tempCategory === '競速車'}\"\r\n                  @click=\"tempCategory='競速車' ;getCategoryProducts('競速車')\"\r\n                >競速車</li>\r\n                <li\r\n                  class=\"list-group-item product-sidebar-items\"\r\n                  :class=\"{'active': tempCategory === '道具車'}\"\r\n                  @click=\"tempCategory='道具車';getCategoryProducts('道具車')\"\r\n                >道具車</li>\r\n                <li\r\n                  class=\"list-group-item product-sidebar-items\"\r\n                  :class=\"{'active': tempCategory === '角色'}\"\r\n                  @click=\"tempCategory='角色';getCategoryProducts('角色')\"\r\n                >角色</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n          <!-- 商品頁面-->\r\n          <div class=\"col-lg-9 col-sm-12\">\r\n            <loading :active.sync=\"isloading\">\r\n              <template name=\"default\">\r\n                <div class=\"bazzi-loading\"></div>\r\n              </template>\r\n            </loading>\r\n            <div class=\"row\">\r\n              <div class=\"col-lg-4 mb-4\" v-for=\"item in filterData\" :key=\"item.id\">\r\n                <div class=\"card shadow-sm h-100\">\r\n                  <a type=\"button\" class=\"myfavorite\">\r\n                    <i\r\n                      class=\"fas fa-heart\"\r\n                      v-if=\"isfavored (item)\"\r\n                      @click.prevent=\"changeFavorite(item)\"\r\n                    ></i>\r\n                    <i class=\"far fa-heart\" v-else @click.prevent=\"changeFavorite(item)\"></i>\r\n                  </a>\r\n                  <img\r\n                    class=\"card-img-top p-2 bg-dark\"\r\n                    :src=\"`${item.imageUrl}`\"\r\n                    :alt=\"`${item.title}`\"\r\n                  />\r\n\r\n                  <div class=\"card-body\">\r\n                    <span class=\"badge badge-secondary float-right ml-2\">{{item.category}}</span>\r\n                    <h5 class=\"card-title\">{{item.title}}</h5>\r\n                    <div class=\"d-flex justify-content-between\">\r\n                      <div class=\"d-flex flex-column\">\r\n                        <p v-if=\"item.price === item.origin_price\">售價{{item.origin_price}}元</p>\r\n                        <del\r\n                          class=\"mr-1\"\r\n                          v-if=\"item.price !== item.origin_price\"\r\n                        >原價{{item.origin_price}}元</del>\r\n                        <p\r\n                          class=\"m-0 text-danger\"\r\n                          v-if=\"item.price !== item.origin_price\"\r\n                        >售價{{item.price}} 元</p>\r\n                      </div>\r\n                      <div class=\"d-flex align-items-end\">\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-sm btn-primary mr-2\"\r\n                          @click=\"getProduct(item.id)\"\r\n                        >\r\n                          <i class=\"fas fa-info-circle\"></i>\r\n                        </button>\r\n                        <button\r\n                          type=\"button\"\r\n                          class=\"btn btn-sm btn-warning\"\r\n                          @click=\"addCart(item.id,1)\"\r\n                        >\r\n                          <i class=\"fas fa-shopping-cart\"></i>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <!--pagination  -->\r\n            <Pagination :pagination=\"pagination\" @getpage=\"getAllProducts\" v-if=\"tempCategory===''\"></Pagination>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    <Footer></Footer>\r\n  </div>\r\n</template>\r\n<script>\r\n\r\nimport NavBar from '@/components/customer/NavBar'\r\nimport Footer from '@/components/customer/Footer'\r\nimport Pagination from '@/components/common/Pagination'\r\nimport Alert from '@/components/common/AlertMessage'\r\n\r\nexport default {\r\n  name: 'Shop',\r\n  components: {\r\n    NavBar,\r\n    Footer,\r\n    Pagination,\r\n    Alert\r\n\r\n  },\r\n  data () {\r\n    return {\r\n      products: [],\r\n      product: {\r\n        num: 1\r\n      },\r\n      cartContents: {},\r\n      tempCategory: '',\r\n      isloading: false,\r\n      pagination: [],\r\n      favorites: []\r\n\r\n    }\r\n  },\r\n  methods: {\r\n    getAllProducts (page = 1) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products?page=${page}`\r\n      vm.isloading = true\r\n      this.$http.get(url).then((res) => {\r\n        vm.products = res.data.products\r\n        vm.isloading = false\r\n        vm.pagination = res.data.pagination\r\n      })\r\n    },\r\n    getCategoryProducts (category) {\r\n      const vm = this\r\n      vm.tempCategory = category\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`\r\n      vm.isloading = true\r\n      this.$http.get(url).then((res) => {\r\n        vm.products = res.data.products\r\n        if (vm.tempCategory) {\r\n          vm.products.filter(item => item.category === vm.tempCategory)\r\n        }\r\n        vm.isloading = false\r\n      })\r\n    },\r\n    getProduct (id) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${id}`\r\n      this.$http.get(url).then((res) => {\r\n        vm.product = res.data.product\r\n        // 回傳內容沒有數量 num，所以要加入預設值\r\n        vm.$set(vm.product, 'num', 1)\r\n        vm.$router.push(`/product/${id}`)\r\n      })\r\n    },\r\n    // 新增至購物車\r\n    addCart (id, qty = 1) {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/`\r\n      vm.isloading = true\r\n      const cart = {\r\n        product_id: id,\r\n        qty\r\n      }\r\n      this.$http.post(url, { data: cart }).then((res) => {\r\n        if (res.data.success) {\r\n          this.$bus.$emit('message:push', '已增加至購物車', 'success')\r\n          this.$bus.$emit('updateCart')\r\n        } else {\r\n          this.$bus.$emit('message:push', '增加至購物車失敗', 'danger')\r\n        }\r\n        vm.isloading = false\r\n      })\r\n    },\r\n    getCart () {\r\n      const vm = this\r\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/`\r\n      vm.isloading = true\r\n      this.$http.get(url).then((res) => {\r\n        vm.cartContents = res.data.data\r\n        vm.loadingItem = ''\r\n        vm.isloading = false\r\n      })\r\n    },\r\n    getFavorites () {\r\n      this.favorites = JSON.parse(localStorage.getItem('favorites')) || []\r\n    },\r\n    changeFavorite (product) {\r\n      const vm = this\r\n\r\n      // 儲存有在this.favorites中資料的index\r\n      if (vm.favorites.length === 0 || vm.favorites.every(item => item.id !== product.id)) {\r\n        vm.favorites.push(product)\r\n      } else {\r\n        // 存在則移除\r\n        const index = vm.favorites.findIndex(item => item.id === product.id)\r\n        vm.favorites.splice(index, 1)\r\n      }\r\n      // 儲存至 localStorage\r\n      localStorage.setItem('favorites', JSON.stringify(vm.favorites))\r\n      // 重新整理\r\n      vm.getFavorites()\r\n      vm.$bus.$emit('favor:get')\r\n    },\r\n    // 判斷顯示/隱藏關注樣式\r\n    isfavored (item) {\r\n      const isfavored = this.favorites.filter(favor => favor.id === item.id)\r\n      if (isfavored.length > 0) {\r\n        return true\r\n      }\r\n      return false\r\n    }\r\n  },\r\n  computed: {\r\n    filterData () {\r\n      const vm = this\r\n      if (vm.tempCategory === '') {\r\n        return vm.products\r\n      } else {\r\n        return vm.products.filter(item => item.category === vm.tempCategory)\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    const vm = this\r\n    vm.getAllProducts()\r\n    vm.getCart()\r\n    vm.getFavorites()\r\n    vm.$bus.$on('productFavor:get', () => vm.getFavorites())\r\n    vm.$bus.$on('message:category', (item) => vm.getCategoryProducts(item))\r\n  },\r\n  beforeDestroy () {\r\n    const vm = this\r\n    vm.$bus.$off('productFavor:get')\r\n    vm.$bus.$off('message:category')\r\n  }\r\n}\r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .container {\r\n    margin-top: 20px;\r\n  }\r\n  .sticky-top {\r\n    z-index: 0;\r\n  }\r\n  .product-sidebar {\r\n    border: none;\r\n    &-items {\r\n      text-decoration: none;\r\n      border: 0.5px solid rgb(65, 135, 235);\r\n      border-radius: 10px;\r\n      margin-bottom: 10px;\r\n      transition: all 0.3s;\r\n      &:hover {\r\n        background-color: rgb(65, 135, 235);\r\n        color: #fff;\r\n        transform: scale(0.98);\r\n        &.active {\r\n          border: 2px rgb(65, 135, 235);\r\n          background-color: rgb(65, 135, 235);\r\n          color: #fff;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  .background {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    width: 100%;\r\n    height: 200px;\r\n    background: url(\"~@/assets/img/product-img.png\");\r\n    background-size: cover;\r\n    background-position: center center;\r\n    background-repeat: no-repeat;\r\n    .text {\r\n      background-color: rgba(0, 0, 0, 0.3);\r\n      border-radius: 7px;\r\n    }\r\n  }\r\n\r\n  .card {\r\n    transition: all 0.3s;\r\n    &:hover {\r\n      transform: translate(3px, -3px);\r\n    }\r\n  }\r\n  .myfavorite {\r\n    position: absolute;\r\n    top: 8px;\r\n    left: 10px;\r\n  }\r\n  .myfavorite i {\r\n    font-size: 26px;\r\n    color: #ff693b;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shop.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Shop.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Shop.vue?vue&type=template&id=11dce2a3&scoped=true&\"\nimport script from \"./Shop.vue?vue&type=script&lang=js&\"\nexport * from \"./Shop.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Shop.vue?vue&type=style&index=0&id=11dce2a3&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"11dce2a3\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center\"},[_c('nav',{attrs:{\"aria-label\":\"Page navigation example\"}},[_c('ul',{staticClass:\"pagination\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pagination.has_pre}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getProducts(_vm.pagination.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.pagination.total_pages),function(page){return _c('li',{key:page,staticClass:\"page-item\",class:{'active': _vm.pagination.current_page === page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getProducts(page)}}},[_vm._v(_vm._s(page))])])}),_c('li',{staticClass:\"page-item\",class:{'disabled': !_vm.pagination.has_next}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getProducts(_vm.pagination.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"d-flex justify-content-center\">\r\n    <nav aria-label=\"Page navigation example\">\r\n      <ul class=\"pagination\">\r\n        <li class=\"page-item\" :class=\"{'disabled': !pagination.has_pre}\">\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Previous\"\r\n            @click.prevent=\"getProducts(pagination.current_page - 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&laquo;</span>\r\n          </a>\r\n        </li>\r\n        <li\r\n          class=\"page-item\"\r\n          v-for=\"page in pagination.total_pages\"\r\n          :key=\"page\"\r\n          :class=\"{'active': pagination.current_page === page}\"\r\n        >\r\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"getProducts(page)\">{{page}}</a>\r\n        </li>\r\n        <li class=\"page-item\" :class=\"{'disabled': !pagination.has_next}\">\r\n          <a\r\n            class=\"page-link\"\r\n            href=\"#\"\r\n            aria-label=\"Next\"\r\n            @click.prevent=\"getProducts(pagination.current_page + 1)\"\r\n          >\r\n            <span aria-hidden=\"true\">&raquo;</span>\r\n          </a>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: ['pagination'],\r\n  methods: {\r\n    getProducts (page) {\r\n      this.$emit('getpage', page)\r\n    }\r\n  }\r\n\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=41a69e06&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}