{"version":3,"sources":["webpack:///./src/views/Details.vue?8ba0","webpack:///./src/views/Details.vue?355f","webpack:///src/views/Details.vue","webpack:///./src/views/Details.vue?9e89","webpack:///./src/views/Details.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isloading","on","$event","staticClass","_v","_s","product","title","imageUrl","category","price","origin_price","_e","domProps","description","content","class","qty","preventDefault","decreaseqty","directives","name","rawName","value","expression","staticStyle","target","composing","increaseqty","addCart","id","ref","detailOptions","_l","item","key","directProduct","staticRenderFns","components","NavBar","Footer","Alert","data","products","productId","loadingItem","speed","autoplay","breakpoints","768","slidesPerView","spaceBetween","992","1280","pagination","el","clickable","methods","getAllProducts","vm","$http","get","url","then","res","getProduct","$set","turnDetails","$router","push","path","catch","product_id","post","success","setTimeout","replace","getCart","cartContents","computed","filterProducts","filter","swiper","$refs","mySwiper","$swiper","created","component"],"mappings":"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","file":"js/chunk-3bddd9ec.14539f82.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=7a8b41c9&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=style&index=0&id=7a8b41c9&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('NavBar'),_c('Alert'),_c('main',[_c('loading',{attrs:{\"active\":_vm.isloading},on:{\"update:active\":function($event){_vm.isloading=$event}}},[[_c('div',{staticClass:\"bazzi-loading\"})]],2),_c('div',{staticClass:\"container p-3\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrumb\"}},[_c('ol',{staticClass:\"breadcrumb\"},[_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"首頁\")])],1),_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_c('router-link',{attrs:{\"to\":\"/shop\"}},[_vm._v(\"商城\")])],1),_c('li',{staticClass:\"breadcrumb-item\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.product.title))])])]),_c('div',{staticClass:\"row no-gutters py-2\"},[_c('div',{staticClass:\"col-lg-5 col-sm-12 d-flex justify-content-center align-items-center bg-dark mx-md-0 mr-lg-5\"},[_c('img',{attrs:{\"src\":_vm.product.imageUrl,\"alt\":_vm.product.title}})]),_c('div',{staticClass:\"info col-lg-6 col-sm-12\"},[_c('div',{staticClass:\"info-title d-flex justify-content-between\"},[_c('h1',[_vm._v(_vm._s(_vm.product.title))]),_c('span',{staticClass:\"ml-1 badge badge-secondary\"},[_vm._v(_vm._s(_vm.product.category))])]),_c('div',{staticClass:\"info-price\"},[_c('div',{staticClass:\"mt-3\"},[(_vm.product.price === _vm.product.origin_price)?_c('p',{staticClass:\"text-success\"},[_vm._v(\"售價 \"+_vm._s(_vm.product.origin_price)+\" 元\")]):_vm._e(),(_vm.product.price !== _vm.product.origin_price)?_c('del',{staticClass:\"mr-1 text-success\"},[_vm._v(\"原價\"+_vm._s(_vm.product.origin_price)+\"元\")]):_vm._e(),(_vm.product.price !== _vm.product.origin_price)?_c('p',{staticClass:\"m-0 text-danger\"},[_vm._v(\"售價\"+_vm._s(_vm.product.price)+\" 元\")]):_vm._e()])]),_c('div',{staticClass:\"info-details my-3\"},[_c('h5',[_vm._v(\"商品描述\")]),_c('div',{staticClass:\"mb-4\",domProps:{\"innerHTML\":_vm._s(_vm.description)}}),_c('h5',[_vm._v(\"商品特色\")]),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.content)}})]),_c('div',{staticClass:\"d-flex justify-content-between\"},[_c('h5',{staticClass:\"align-middle\"},[_vm._v(\"數量\")]),_c('div',{staticClass:\"btn-group\",attrs:{\"role\":\"group\",\"aria-label\":\"Basic example\"}},[_c('button',{staticClass:\"btn btn-primary ml-2\",class:{'disabled': _vm.qty <= 1},attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();_vm.decreaseqty ()}}},[_vm._v(\"-\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.qty),expression:\"qty\"}],staticClass:\"text-center mx-1\",staticStyle:{\"width\":\"60px\"},attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.qty)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.qty=$event.target.value}}}),_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();_vm.increaseqty ()}}},[_vm._v(\"+\")])])]),_c('button',{staticClass:\"btn btn-primary w-100 mt-5 mb-3\",on:{\"click\":function($event){$event.preventDefault();return _vm.addCart(_vm.product.id,_vm.qty)}}},[_vm._v(\"加入購物車\")])])]),_c('div',{staticClass:\"swiper row mt-5\"},[_c('h3',{staticClass:\"text-center mb-5 col-12\"},[_vm._v(\"推薦商品\")]),_c('swiper',{ref:\"mySwiper\",staticClass:\"p-0 text-center mb-5 col-12\",attrs:{\"options\":_vm.detailOptions}},_vm._l((_vm.filterProducts),function(item){return _c('swiper-slide',{key:item.id},[_c('div',{staticClass:\"swiper-picture\"},[_c('img',{staticClass:\"swiper-img\",attrs:{\"src\":item.imageUrl,\"alt\":\"item.title\"}}),_c('div',{staticClass:\"swiper-info\"},[_c('div',{staticClass:\"swiper-info--btn btn btn-outline-primary\",on:{\"click\":function($event){$event.preventDefault();return _vm.directProduct(item.id)}}},[_vm._v(\"前往商品\")])])])])}),1)],1)])],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }"," <template>\n  <div>\n    <NavBar></NavBar>\n    <Alert></Alert>\n    <main>\n      <loading :active.sync=\"isloading\">\n        <template name=\"default\">\n          <div class=\"bazzi-loading\"></div>\n        </template>\n      </loading>\n\n      <div class=\"container p-3\">\n        <nav aria-label=\"breadcrumb\">\n          <ol class=\"breadcrumb\">\n            <li class=\"breadcrumb-item\" aria-current=\"page\">\n              <router-link to=\"/\">首頁</router-link>\n            </li>\n            <li class=\"breadcrumb-item\" aria-current=\"page\">\n              <router-link to=\"/shop\">商城</router-link>\n            </li>\n            <li class=\"breadcrumb-item\" aria-current=\"page\">{{product.title}}</li>\n          </ol>\n        </nav>\n        <div class=\"row no-gutters py-2\">\n          <div\n            class=\"col-lg-5 col-sm-12 d-flex justify-content-center align-items-center bg-dark mx-md-0 mr-lg-5\"\n          >\n            <img :src=\"product.imageUrl\" :alt=\"product.title\" />\n          </div>\n          <div class=\"info col-lg-6 col-sm-12\">\n            <div class=\"info-title d-flex justify-content-between\">\n              <h1>{{ product.title }}</h1>\n              <span class=\"ml-1 badge badge-secondary\">{{product.category}}</span>\n            </div>\n            <div class=\"info-price\">\n              <div class=\"mt-3\">\n                <p\n                  class=\"text-success\"\n                  v-if=\"product.price === product.origin_price\"\n                >售價 {{product.origin_price}} 元</p>\n                <del\n                  class=\"mr-1 text-success\"\n                  v-if=\"product.price !== product.origin_price\"\n                >原價{{product.origin_price}}元</del>\n                <p\n                  class=\"m-0 text-danger\"\n                  v-if=\"product.price !== product.origin_price\"\n                >售價{{product.price}} 元</p>\n              </div>\n            </div>\n\n            <div class=\"info-details my-3\">\n              <h5>商品描述</h5>\n              <div class=\"mb-4\" v-html=\"description\"></div>\n              <h5>商品特色</h5>\n              <div v-html=\"content\"></div>\n            </div>\n            <div class=\"d-flex justify-content-between\">\n              <h5 class=\"align-middle\">數量</h5>\n              <div class=\"btn-group\" role=\"group\" aria-label=\"Basic example\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-primary ml-2\"\n                  :class=\"{'disabled': qty <= 1}\"\n                  @click.prevent=\" decreaseqty () \"\n                >-</button>\n                <input type=\"text\" class=\"text-center mx-1\" v-model=\"qty\" style=\"width: 60px;\" />\n                <button type=\"button\" class=\"btn btn-primary\" @click.prevent=\" increaseqty () \">+</button>\n              </div>\n            </div>\n            <button\n              class=\"btn btn-primary w-100 mt-5 mb-3\"\n              @click.prevent=\"addCart(product.id,qty)\"\n            >加入購物車</button>\n          </div>\n        </div>\n        <div class=\"swiper row mt-5\">\n          <h3 class=\"text-center mb-5 col-12\">推薦商品</h3>\n          <swiper ref=\"mySwiper\" :options=\"detailOptions\" class=\"p-0 text-center mb-5 col-12\">\n            <swiper-slide v-for=\"item in filterProducts\" :key=\"item.id\">\n              <div class=\"swiper-picture\">\n                <img class=\"swiper-img\" :src=\"item.imageUrl\" alt=\"item.title\" />\n                <div class=\"swiper-info\">\n                  <div\n                    class=\"swiper-info--btn btn btn-outline-primary\"\n                    @click.prevent=\"directProduct(item.id)\"\n                  >前往商品</div>\n                </div>\n              </div>\n            </swiper-slide>\n          </swiper>\n        </div>\n      </div>\n    </main>\n    <Footer></Footer>\n  </div>\n</template>\n<script>\nimport $ from 'jquery'\nimport NavBar from '@/components/customer/NavBar'\nimport Footer from '@/components/customer/Footer'\nimport Alert from '@/components/common/AlertMessage'\n\nexport default {\n  name: 'Shop',\n  components: {\n    NavBar,\n    Footer,\n    Alert\n\n  },\n  data () {\n    return {\n      products: [],\n      productId: '',\n      product: {\n      },\n      qty: 1,\n      isloading: false,\n      loadingItem: '',\n      description: '',\n      content: '',\n      // swiper\n      detailOptions: {\n        speed: 500,\n        autoplay: true,\n        breakpoints: {\n          768: {\n            slidesPerView: 2,\n            spaceBetween: 30\n          },\n          992: {\n            slidesPerView: 3,\n            spaceBetween: 30\n          },\n          1280: {\n            slidesPerView: 4,\n            spaceBetween: 30\n          }\n        },\n        pagination: {\n          el: '.swiper-pagination',\n          clickable: true\n        }\n      }\n    }\n  },\n  methods: {\n    getAllProducts () {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/products/all`\n      vm.isloading = true\n      this.$http.get(url).then((res) => {\n        vm.products = res.data.products\n        vm.isloading = false\n      })\n    },\n    getProduct (id) {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/product/${this.$route.params.id}`\n      vm.loadingItem = id\n      vm.isloading = true\n      this.$http.get(url).then((res) => {\n        vm.product = res.data.product\n        // 回傳內容沒有數量 num，所以要加入預設值\n        vm.$set(vm.product, 'num', 1)\n        vm.turnDetails()\n        vm.loadingItem = ''\n        vm.isloading = false\n      })\n    },\n    directProduct (id) {\n      // 因為同一個路徑會出錯\n      const path = `/product/${id}`\n      this.$router.push(path).catch(err => err)\n      this.getProduct(id)\n    },\n    // 新增至購物車\n    addCart (id, qty = 1) {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/`\n      vm.loadingItem = id\n      const cart = {\n        product_id: id,\n        qty: vm.qty\n      }\n      this.$http.post(url, { data: cart }).then((res) => {\n        vm.loadingItem = ''\n        this.getCart()\n        $('#productModal').modal('hide')\n        if (res.data.success) {\n          setTimeout(() => {\n            this.$bus.$emit('message:push', '已增加至購物車', 'success')\n            this.$bus.$emit('updateCart')\n          }, 500)\n        } else {\n          setTimeout(() => {\n            this.$bus.$emit('message:push', '增加至購物車失敗', 'danger')\n          }, 500)\n        }\n      })\n    },\n    // 將後端產品描述換行\n    turnDetails () {\n      const vm = this\n      const { description, content } = vm.product\n      vm.description = description.replace(/\\n/g, '<br/>')\n      vm.content = content.replace(/\\n/g, '<br/>')\n    },\n    getCart () {\n      const vm = this\n      const url = `${process.env.VUE_APP_APIPATH}/api/${process.env.VUE_APP_CUSTOMPATH}/cart/`\n      vm.isloading = true\n      this.$http.get(url).then((res) => {\n        vm.cartContents = res.data.data\n        vm.loadingItem = ''\n        vm.isloading = false\n      })\n    },\n    increaseqty () {\n      const vm = this\n      if (vm.qty >= 0) {\n        vm.qty += 1\n      }\n    },\n    decreaseqty () {\n      const vm = this\n      if (vm.qty > 1) {\n        vm.qty -= 1\n      }\n    }\n  },\n  computed: {\n    filterProducts () {\n      const vm = this\n      return vm.products.filter((item) => item.category === vm.product.category && item.id !== vm.product.id)\n    },\n    swiper () {\n      return this.$refs.mySwiper.$swiper\n    }\n  },\n  created () {\n    this.getCart()\n    this.getProduct()\n    this.getAllProducts()\n  }\n}\n\n</script>\n<style lang=\"scss\" scoped>\n  .info {\n    .badge {\n      position: absolute;\n      top: 5%;\n      right: 5%;\n      font-size: 12px;\n      line-height: 20px;\n    }\n    &-title h1 {\n      border-bottom: 3px solid #4187eb;\n    }\n    &-details {\n      h5 {\n        border-bottom: 1px solid rgb(68, 64, 64);\n      }\n      div {\n        font-size: 0.75rem;\n        color: rgb(68, 64, 64);\n      }\n    }\n  }\n  //swiper\n  .swiper {\n    margin: 0 auto;\n    &-picture {\n      position: relative;\n      background-color: #343a40;\n      &:last-child {\n        margin-right: 0;\n      }\n    }\n    &-img {\n      width: 90%;\n      height: 90%;\n      position: relative;\n      transition: all 0.5s;\n    }\n    &-info {\n      width: 100%;\n      height: 0;\n      background: rgba(245, 245, 245, 0.45);\n      position: absolute;\n      top: 0;\n      left: 0;\n      transition: all 0.5s;\n      &--btn {\n        position: absolute;\n        opacity: 0;\n        width: 300px;\n        max-width: 80%;\n        top: 50%;\n        left: 50%;\n        transform: translate(-50%, -50%);\n      }\n    }\n    &-picture:hover {\n      .swiper-info {\n        height: 100%;\n      }\n      .swiper-info--btn {\n        opacity: 1;\n      }\n    }\n  }\n  .my-button-disabled {\n    opacity: 0;\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Details.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Details.vue?vue&type=template&id=7a8b41c9&scoped=true&\"\nimport script from \"./Details.vue?vue&type=script&lang=js&\"\nexport * from \"./Details.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Details.vue?vue&type=style&index=0&id=7a8b41c9&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7a8b41c9\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}