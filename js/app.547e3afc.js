(function(t){function e(e){for(var s,n,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(r,n)&&r[n]&&d.push(r[n][0]),r[n]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var o=a[n];0!==r[o]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var s={},n={app:0},r={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-0cb844c1":"d4daad2c","chunk-2d0d02a4":"b1fe74bb","chunk-2d0e2114":"61580055","chunk-2d21f840":"1e941f34","chunk-4565b99b":"dd2f8a52","chunk-5891407a":"e7642c42","chunk-5fa1085e":"fd26c547","chunk-68564b6c":"5b4be395","chunk-6f64a0fd":"dce2c194","chunk-73d02200":"9e8f4100","chunk-74008316":"dacf515d","chunk-e9c094e2":"ab8e4bd9"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-0cb844c1":1,"chunk-4565b99b":1,"chunk-5891407a":1,"chunk-5fa1085e":1,"chunk-68564b6c":1,"chunk-6f64a0fd":1,"chunk-e9c094e2":1};n[t]?e.push(n[t]):0!==n[t]&&a[t]&&e.push(n[t]=new Promise((function(e,a){for(var s="css/"+({}[t]||t)+"."+{"chunk-0cb844c1":"c5ffeda5","chunk-2d0d02a4":"31d6cfe0","chunk-2d0e2114":"31d6cfe0","chunk-2d21f840":"31d6cfe0","chunk-4565b99b":"cc21c227","chunk-5891407a":"c213ae64","chunk-5fa1085e":"d79d90f8","chunk-68564b6c":"209889df","chunk-6f64a0fd":"69f4cf62","chunk-73d02200":"31d6cfe0","chunk-74008316":"31d6cfe0","chunk-e9c094e2":"85f7aa8e"}[t]+".css",r=c.p+s,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===r))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===s||u===r)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var s=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete n[t],p.parentNode.removeChild(p),a(i)},p.href=r;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){n[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,a){s=r[t]=[e,a]}));e.push(s[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var a=r[t];if(0!==a){if(a){var s=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+n+")",d.name="ChunkLoadError",d.type=s,d.request=n,a[1](d)}r[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(a,s,function(e){return t[e]}.bind(null,s));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/KartRider-Shop/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"01c0":function(t,e,a){},"107b":function(t,e,a){t.exports=a.p+"img/kart-logo.a0226bdb.png"},"1afa":function(t,e,a){t.exports=a.p+"img/Bazzi.3cd2d7dc.png"},"1c3a":function(t,e,a){t.exports=a.p+"media/kartrider.9be8d6fc.webm"},2074:function(t,e,a){"use strict";var s=a("01c0"),n=a.n(s);n.a},"212a":function(t,e,a){"use strict";var s=a("a4c1"),n=a.n(s);n.a},"21bb":function(t,e,a){"use strict";var s=a("2dad"),n=a.n(s);n.a},"2dad":function(t,e,a){},"2e88":function(t,e,a){t.exports=a.p+"img/Ranger.623f8a49.png"},3650:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},n=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("footer",{staticClass:"footer bg-dark"},[s("div",{staticClass:"footer-contact"},[s("a",{attrs:{href:"https://www.facebook.com/kartriderTW/",target:"_blank"}},[s("i",{staticClass:"fab fa-facebook"})]),s("a",{attrs:{href:"https://kartinfo.me/",target:"_blank"}},[s("img",{attrs:{src:a("b2ba")}})]),s("a",{attrs:{href:"https://twitter.com/KartRiderDrift",target:"_blank"}},[s("i",{staticClass:"fab fa-twitter-square"})])]),s("div",{staticClass:"footer-copyright text-white"},[s("p",{staticClass:"m-0"},[t._v("此網站為個人作品，並非商業用途")]),s("p",{staticClass:"m-0"},[t._v(" 以上素材為 "),s("a",{attrs:{href:"https://tw.nexon.com/main/zh",target:"_blank"}},[s("img",{attrs:{src:a("f82f"),alt:""}})]),t._v(" 所有 ")])])])])}],r={name:"Footer"},i=r,o=(a("212a"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,"b14e5d14",null);e["a"]=c.exports},"56d7":function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),n=a("bc3a"),r=a.n(n),i=(a("4989"),a("9062")),o=a.n(i),c=(a("e40d"),a("7bb1")),l=a("427f"),u=a.n(l),d=a("a7fe"),p=a.n(d),f=a("4eb5"),m=a.n(f),h=a("7212"),v=a.n(h),b=a("f5af"),g=a.n(b),C=(a("a7a3"),a("e829"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid p-0",attrs:{id:"app"}},[a("router-view")],1)}),_=[],k={name:"App"},y=k,w=(a("5c0b"),a("2877")),x=Object(w["a"])(y,C,_,!1,null,null,null),$=x.exports,S=a("8c4f"),O=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("loading",{attrs:{active:t.isloading},on:{"update:active":function(e){t.isloading=e}}},[[s("div",{staticClass:"bazzi-loading"})]],2),s("NavBar"),s("header",[s("Alert"),s("div",{staticClass:"swiper container-fluid p-0"},[s("div",{staticClass:"swiper-background"},[s("video",{staticClass:"swiper-background__video",attrs:{autoplay:"",muted:"",loop:""},domProps:{muted:!0}},[s("source",{attrs:{src:a("7c24"),type:"video/mp4"}}),s("source",{attrs:{src:a("1c3a"),type:"video/webm"}})])]),s("swiper",{ref:"HeaderSwiper",staticClass:"swiper-box text-center",attrs:{options:t.headerOptions}},[s("swiper-slide",{staticClass:"swiper-items"},[s("h1",[t._v("關於跑跑")]),s("p",{staticClass:"m-1"},[t._v("是韓國NEXON公司出品的一個休閒類賽車競速遊戲")]),s("p",{staticClass:"m-1"},[t._v("亦是爆爆王的衍生遊戲")]),s("p",{staticClass:"m-1 mb-4"},[t._v("於2007年1月3日於台灣公測")]),s("router-link",{staticClass:"btn btn-lg btn-primary",attrs:{to:"about",role:"button"}},[t._v("了解更多")])],1),s("swiper-slide",{staticClass:"swiper-items"},[s("h1",[t._v("歡慶開幕")]),s("p",{staticClass:"mt-3"},[t._v("即日起只要輸入指定優惠碼")]),s("p",{staticClass:"m-1 mb-4"},[t._v(" 即享有 "),s("span",{staticClass:"h2 text-danger"},[t._v("9")]),t._v(" 折優惠 ")]),s("div",{staticClass:"input-group mx-auto mb-3",staticStyle:{"max-width":"250px"}},[s("span",{staticClass:"form-control"},[t._v(t._s(t.message))]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.copyCouponCode}},[s("i",{staticClass:"far fa-clone"})])])]),s("swiper-slide",{staticClass:"swiper-items"},[s("h1",[t._v("商城")]),s("p",{staticClass:"mb-1"},[t._v("擁有豐富的車種及角色")]),s("p",{staticClass:"mb-1"},[t._v("每台車子都有不同性能及特色")]),s("p",{staticClass:"mb-1"},[t._v("每位角色都有不同能力加成")]),s("p",{staticClass:"mb-2"},[t._v("快來體驗駕駛卡丁車的樂趣吧")]),s("router-link",{staticClass:"btn btn-lg btn-primary mb-1",attrs:{to:"shop",role:"button"}},[t._v("前往商城")])],1),s("div",{staticClass:"swiper-pagination"})],1)],1)],1),s("main",{staticClass:"container-fluid p-0"},[s("section",{staticClass:"products pb-5"},[s("h1",{staticClass:"m-title"},[t._v("商品種類")]),s("div",{staticClass:"container p-0"},[s("div",{staticClass:"row no-gutters"},[t._m(0),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"products-content text-center"},[s("h1",{staticClass:"mb-3"},[t._v("競速車")]),s("p",[t._v("擁有強大推進器")]),s("p",[t._v("強勁的尾加速器")]),s("p",[t._v("兇猛的起步推進器")]),s("a",{staticClass:"btn btn-lg btn-primary text-white mt-4",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.toShop("競速車")}}},[t._v("去看看")])])])]),s("div",{staticClass:"row no-gutters d-flex flex-sm-row flex-lg-row-reverse"},[t._m(1),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"products-content text-center"},[s("h1",{staticClass:"mb-3"},[t._v("道具車")]),s("p",[t._v("各種稀奇古怪的外型")]),s("p",[t._v("豐富多樣的道具")]),s("p",[t._v("專屬於道具賽的推進器")]),s("a",{staticClass:"btn btn-lg btn-primary text-white mt-4",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.toShop("道具車")}}},[t._v("去看看")])])])]),s("div",{staticClass:"row no-gutters"},[t._m(2),s("div",{staticClass:"col-lg-6 col-sm-12"},[s("div",{staticClass:"products-content text-center"},[s("h1",{staticClass:"mb-3"},[t._v("角色")]),s("p",[t._v("爆爆王的原生角色")]),s("p",[t._v("個性鮮明的主題角色")]),s("p",[t._v("比賽專屬獎勵加成")]),s("a",{staticClass:"btn btn-lg btn-primary text-white mt-4",attrs:{role:"button"},on:{click:function(e){return e.preventDefault(),t.toShop("角色")}}},[t._v("去看看")])])])])])]),s("section",{staticClass:"recommend-products pb-5"},[s("h1",{staticClass:"m-title"},[t._v("推薦商品")]),s("div",{staticClass:"container"},[s("div",{staticClass:"row no-gutters justify-content-center"},[s("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[s("button",{staticClass:"btn btn-outline-primary",class:{active:"競速車"===t.category},attrs:{type:"button"},on:{click:function(e){t.category="競速車",t.getAllProducts()}}},[t._v("競速車")]),s("button",{staticClass:"btn btn-outline-primary",class:{active:"道具車"===t.category},attrs:{type:"button"},on:{click:function(e){t.category="道具車",t.getAllProducts()}}},[t._v("道具車")]),s("button",{staticClass:"btn btn-outline-primary",class:{active:"角色"===t.category},attrs:{type:"button"},on:{click:function(e){t.category="角色",t.getAllProducts()}}},[t._v("角色")])]),s("swiper",{staticClass:"swiper my-3",attrs:{options:t.recommendOptions}},t._l(t.filterProducts,(function(e){return s("swiper-slide",{key:e.id},[s("div",{staticClass:"swiper-picture"},[s("img",{staticClass:"swiper-img",attrs:{src:e.imageUrl,alt:"item.title"}}),s("div",{staticClass:"swiper-info"},[s("div",{staticClass:"swiper-info--btn btn btn-outline-primary",on:{click:function(a){return a.preventDefault(),t.directProduct(e.id)}}},[t._v("前往商品")])])])])})),1)],1)])]),s("section",{staticClass:"contact text-center"},[s("h1",{staticClass:"m-title"},[t._v("訂閱我們")]),s("h3",[t._v("以獲得最新內容及優惠!")]),s("div",{staticClass:"input-group mx-auto mt-5"},[s("span",{staticClass:"fas fa-envelope btn btn-primary"}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"},{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],staticClass:"form-control",class:{isvalid:t.errors.has("name")},attrs:{id:"email",type:"email",name:"email",placeholder:"輸入信箱","aria-label":"Recipient's username","aria-describedby":"button-addon2"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:t.errors.has("email")||""===t.email,type:"button",id:"button-addon2","data-toggle":"modal","data-target":"#exampleModal"}},[s("i",{staticClass:"fas fa-arrow-right"})])])]),t.errors.has("email")?s("p",{staticClass:"text-danger"},[s("i",{staticClass:"fas fa-exclamation-triangle"}),t._v(" "+t._s(t.errors.first("email"))+" ")]):t._e(),t._m(3)])]),s("Footer")],1)},E=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12 d-flex justify-content-center"},[s("img",{staticClass:"products-img",attrs:{src:a("2e88"),alt:"ranger","data-aos":"fade"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12 d-flex justify-content-center"},[s("img",{staticClass:"products-img",attrs:{src:a("96b0"),alt:"ranger","data-aos":"fade"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-lg-6 col-sm-12 d-flex justify-content-center"},[s("img",{staticClass:"products-img",attrs:{src:a("1afa"),alt:"ranger","data-aos":"fade"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal fade",attrs:{id:"exampleModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header bg-primary"},[s("h5",{staticClass:"modal-title text-white",attrs:{id:"exampleModalLabel"}},[t._v("已送出信箱")]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])]),s("div",{staticClass:"modal-body text-center"},[s("h3",[t._v("感謝您的訂閱")]),s("h3",[t._v("若有最新消息會立即通知!")]),s("img",{attrs:{src:a("cb2c"),alt:"BazziSub"}})])])])])}],P=a("5d6b"),A=a("3650"),T=a("f688"),j={name:"Home",components:{NavBar:P["a"],Footer:A["a"],Alert:T["a"]},data:function(){return{message:"跑跑開幕慶",isloading:!1,products:[],category:"競速車",email:"",headerOptions:{speed:500,autoplay:!0,pagination:{el:".swiper-pagination",clickable:!0},loop:!0,effect:"fade",fadeEffect:{crossFade:!0}},recommendOptions:{speed:500,autoplay:!0,breakpoints:{768:{slidesPerView:2,spaceBetween:30},992:{slidesPerView:3,spaceBetween:30},1280:{slidesPerView:3,spaceBetween:30}}}}},methods:{getAllProducts:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/products/all");t.isloading=!0,this.$http.get(e).then((function(e){t.products=e.data.products,t.isloading=!1}))},copyCouponCode:function(){var t=this;this.$copyText(this.message).then((function(){setTimeout((function(){t.$bus.$emit("message:push","複製成功","success")}),500)}),(function(){setTimeout((function(){t.$bus.$emit("message:push","複製失敗","danger")}),500)}))},directProduct:function(t){var e="/product/".concat(t);this.$router.push(e).catch((function(t){return t})),this.getProduct(t)},toShop:function(t){var e=this;setTimeout((function(){e.$bus.$emit("message:category",t)}),500),this.$router.push("/shop")},onScroll:function(){var t=document.documentElement.scrollTop||window.pageYOffset||document.body.scrollTop;console.log(t)}},computed:{swiper:function(){return this.$refs.HeaderSwiper.$swiper},filterProducts:function(){var t=this;return t.products.filter((function(e){return e.category===t.category}))}},created:function(){this.getAllProducts(),window.addEventListener("scroll",this.onScroll)},mounted:function(){this.swiper.slideTo(3,1e3,!1)},destroyed:function(){window.removeEventListener("scroll",this.onScroll)}},M=j,B=(a("21bb"),Object(w["a"])(M,O,E,!1,null,null,null)),F=B.exports;s["default"].use(S["a"]);var N=[{path:"*",redirect:"/"},{path:"/",name:"Home",component:F,meta:{title:"首頁"}},{path:"/about",name:"About",component:function(){return a.e("chunk-0cb844c1").then(a.bind(null,"f820"))},meta:{title:"關於"}},{path:"/login",name:"Login",component:function(){return a.e("chunk-68564b6c").then(a.bind(null,"a55b"))}},{path:"/shop",name:"Shop",component:function(){return a.e("chunk-5891407a").then(a.bind(null,"0fa5"))},meta:{title:"商城"}},{path:"/product/:id",name:"Product",component:function(){return a.e("chunk-5fa1085e").then(a.bind(null,"9f52"))},meta:{title:"商品"}},{path:"/checkout",name:"Checkout",component:function(){return a.e("chunk-2d0e2114").then(a.bind(null,"7cb4"))},children:[{path:"cart",name:"Cart",component:function(){return a.e("chunk-4565b99b").then(a.bind(null,"57ef"))}},{path:"customer_checkout/:orderId",name:"Customer_checkout",component:function(){return a.e("chunk-2d0d02a4").then(a.bind(null,"678e"))}}]},{path:"/admin",name:"Admin",component:function(){return a.e("chunk-e9c094e2").then(a.bind(null,"3530"))},children:[{path:"products",name:"Products",component:function(){return a.e("chunk-74008316").then(a.bind(null,"1225"))},meta:{requiresAuth:!0}},{path:"orders",name:"Orders",component:function(){return a.e("chunk-6f64a0fd").then(a.bind(null,"1ccc"))},meta:{requiresAuth:!0}},{path:"coupons",name:"Coupons",component:function(){return a.e("chunk-73d02200").then(a.bind(null,"f7ca"))},meta:{requiresAuth:!0}}]},{path:"/",name:"admin",component:function(){return a.e("chunk-e9c094e2").then(a.bind(null,"3530"))},children:[{path:"order_imitation",name:"Order_imitation",component:function(){return a.e("chunk-2d21f840").then(a.bind(null,"d9c8"))}},{path:"customer_checkout/:orderId",name:"CustomerCheckout",component:function(){return a.e("chunk-2d0d02a4").then(a.bind(null,"678e"))}}]}],q=new S["a"]({routes:N}),z=q;s["default"].prototype.$bus=new s["default"];var L=function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,a){var s=e&&"."!==t&&(a.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return s})))};s["default"].use(p.a,r.a),s["default"].use(c["b"]),s["default"].use(v.a),s["default"].use(m.a),m.a.config.autoSetContainer=!0,c["a"].localize("zh_TW",u.a),s["default"].config.productionTip=!1,s["default"].component("Loading",o.a),s["default"].filter("currency",L),r.a.defaults.withCredentials=!0,new s["default"]({created:function(){g.a.init()},router:z,render:function(t){return t($)}}).$mount("#app"),z.beforeEach((function(t,e,a){if(t.meta.requiresAuth){var s="".concat("https://vue-course-api.hexschool.io","/api/user/check");r.a.post(s).then((function(t){t.data.success?a():a({path:"/login"})}))}else a()}))},"5c0b":function(t,e,a){"use strict";var s=a("9c0c"),n=a.n(s);n.a},"5d6b":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bg-primary"},[s("nav",{staticClass:"navbar navbar-expand-lg container"},[s("div",{staticClass:"navbar-header d-flex"},[s("router-link",{staticClass:"pt-1",attrs:{to:"/"}},[s("img",{staticClass:"navbar-brand-img",attrs:{src:a("107b"),alt:"kart-rider-logo"}})]),s("div",{staticClass:"navbar-icons"},[s("ul",{staticClass:"navbar-nav d-flex flex-row"},[t._m(0),s("li",{staticClass:"nav-item mr-3"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/login"}},[s("i",{staticClass:"fas fa-user"})])],1),s("li",{staticClass:"nav-item nav-link mr-3"},[s("i",{staticClass:"fas fa-heart nav-icon",attrs:{id:"dropdownFavorButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}}),t.favorites?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.favorites.length))]):t._e(),t.favorites.length>0?s("div",{staticClass:"dropdown-menu dropdown-menu-right mr-1",staticStyle:{width:"300px"},attrs:{"aria-labelledby":"dropdownFavorButton"}},[s("h5",{staticClass:"text-center"},[t._v("我的最愛")]),s("table",{staticClass:"table"},[s("tbody",t._l(t.favorites,(function(e){return s("tr",{key:e.id},[s("td",{staticClass:"text-center w-75 font-weight-bold",on:{click:function(a){return t.$router.push("/product/"+e.id)}}},[t._v(t._s(e.title))]),s("td",{staticClass:"pr-0"},[s("button",{staticClass:"btn btn-sm btn-warning",attrs:{type:"button"},on:{click:function(a){return t.addCart(e.id)}}},[s("i",{staticClass:"fas fa-shopping-cart"})])]),s("td",[s("button",{staticClass:"btn btn-sm btn-danger",attrs:{type:"button"},on:{click:function(a){t.removeFavorItem(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])])])})),0)])]):t._e()]),s("li",{staticClass:"nav-item nav-link mr-2"},[s("i",{staticClass:"fas fa-cart-arrow-down nav-icon",attrs:{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},on:{click:t.getCart}}),t.cartContents.carts?s("span",{staticClass:"badge badge-danger"},[t._v(t._s(t.cartContents.carts.length))]):t._e(),s("div",{staticClass:"dropdown-menu dropdown-menu-right mr-1",staticStyle:{width:"300px"},attrs:{"aria-labelledby":"dropdownMenuButton"}},[s("h5",{staticClass:"text-center"},[t._v("購物車內容")]),t.cartContents.carts&&t.cartContents.carts.length>0?s("table",{staticClass:"table"},[s("tbody",t._l(t.cartContents.carts,(function(e){return s("tr",{key:e.id},[s("td",[s("button",{staticClass:"btn btn-danger",attrs:{type:"button"},on:{click:function(a){t.removeCartItem(e.id)}}},[s("i",{staticClass:"far fa-trash-alt"})])]),s("td",[t._v(t._s(e.product.title))]),s("td",[t._v(t._s(e.qty))]),s("td",[t._v(t._s(t._f("currency")(e.total)))])])})),0),s("tfoot",[s("tr",[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("總計")]),t.cartContents.total?s("td",[t._v(t._s(t.cartContents.total))]):t._e()]),t.cartContents.final_total!==t.cartContents.total?s("tr",{staticClass:"text-success"},[s("td",{staticClass:"text-right",attrs:{colspan:"3"}},[t._v("折扣價")]),s("td",[t._v(t._s(t.cartContents.final_total))])]):t._e(),s("tr",[s("td",{attrs:{colspan:"4"}},[s("router-link",{staticClass:"btn btn-md btn-primary w-100",attrs:{to:"/checkout/cart"}},[t._v("前往購物車")])],1)])])]):s("p",{staticClass:"text-center"},[t._v("無商品")])])])])])],1),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[s("ul",{staticClass:"navbar-nav mx-3"},[s("li",{staticClass:"nav-item mr-3"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/about"}},[t._v("關於")])],1),s("li",{staticClass:"nav-item"},[s("router-link",{staticClass:"nav-link",attrs:{to:"/shop"}},[t._v("商城")])],1)])])])])},n=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"nav-item mr-3"},[a("a",{staticClass:"navbar-toggler nav-link",attrs:{"data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"}},[a("i",{staticClass:"fas fa-bars"})])])}],r={name:"Navbar",data:function(){return{cartContents:[],favorites:[]}},methods:{getCart:function(){var t=this,e="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/cart");t.isloading=!0,this.$http.get(e).then((function(e){t.cartContents=e.data.data,t.loadingItem="",t.isloading=!1}))},addCart:function(t){var e=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,n="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/cart/");s.isloading=!0;var r={product_id:t,qty:a};this.$http.post(n,{data:r}).then((function(t){t.data.success?(e.$bus.$emit("message:push","已增加至購物車","success"),e.$bus.$emit("updateCart")):e.$bus.$emit("message:push","增加至購物車失敗","danger"),s.isloading=!1}))},removeCartItem:function(t){var e=this,a="".concat("https://vue-course-api.hexschool.io","/api/").concat("pigeon","/cart/").concat(t);e.isloading=!0,this.$http.delete(a).then((function(t){e.getCart(),e.isloading=!1}))},getFavorites:function(){this.favorites=JSON.parse(localStorage.getItem("favorites"))||[]},removeFavorItem:function(t){var e=this.favorites.indexOf(t);this.favorites.splice(e,1),localStorage.setItem("favorites",JSON.stringify(this.favorites)),this.$bus.$emit("productFavor:get"),this.getFavorites()}},created:function(){this.getCart(),this.getFavorites()},mounted:function(){var t=this;t.$bus.$on("updateCart",t.getCart),t.$bus.$on("favor:get",(function(){return t.getFavorites()}))},beforeDestroy:function(){this.$bus.$off("updateCart")}},i=r,o=(a("f5af8"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,"6935ce08",null);e["a"]=c.exports},"7c24":function(t,e,a){t.exports=a.p+"media/kartrider.3ef3faef.mp4"},"96b0":function(t,e,a){t.exports=a.p+"img/Broom.b79d094f.png"},"9c0c":function(t,e,a){},a4c1:function(t,e,a){},abb3:function(t,e,a){},b2ba:function(t,e,a){t.exports=a.p+"img/kartinfo.94dadc9c.png"},cb2c:function(t,e,a){t.exports=a.p+"img/bazzi.4594f7f6.gif"},f5af8:function(t,e,a){"use strict";var s=a("abb3"),n=a.n(s);n.a},f688:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"message-alert"},t._l(t.messages,(function(e,s){return a("div",{key:s,staticClass:"alert alert-dismissible",class:"alert-"+e.status,attrs:{role:"alert"}},[t._v(" "+t._s(e.message)+" "),a("button",{staticClass:"close",attrs:{type:"button","aria-label":"Close"},on:{click:function(e){return t.removeMessage(s)}}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])})),0)},n=[],r={name:"AlertMessage",data:function(){return{messages:[]}},methods:{updateMessage:function(t,e){var a=Math.floor(new Date/1e3);this.messages.push({message:t,status:e,timestamp:a}),this.removeMessageWithTiming(a)},removeMessage:function(t){this.messages.splice(t,1)},removeMessageWithTiming:function(t){var e=this;setTimeout((function(){e.messages.forEach((function(a,s){a.timestamp===t&&e.messages.splice(s,1)}))}),5e3)}},created:function(){var t=this;t.$bus.$on("message:push",(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warning";t.updateMessage(e,a)}))},beforeDestroy:function(){this.$bus.$off("message:push",this.openMessage)}},i=r,o=(a("2074"),a("2877")),c=Object(o["a"])(i,s,n,!1,null,null,null);e["a"]=c.exports},f82f:function(t,e,a){t.exports=a.p+"img/nexon.b01290f6.png"}});
//# sourceMappingURL=app.547e3afc.js.map